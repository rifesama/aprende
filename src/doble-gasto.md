# Â¿Como se previene el doble gasto en Bitcoin?

**Â¿QuÃ© impide que la gente gaste el mismo bitcoin dos veces?**

En el mundo fÃ­sico, el dinero funciona como una ficha: si lo tienes, es tuyo. Un billete de cinco mil pesos o una moneda de oro no necesitan verificaciÃ³n; simplemente pertenecen a quien los posee.

Pero en el momento en que trasladamos el dinero al mundo digital, surge un problema: los archivos digitales se pueden copiar infinitamente. Si el dinero digital funcionara igual que el efectivo, la gente podrÃ­a copiar y gastar el mismo dinero varias veces, un problema conocido como doble gasto.

## La SoluciÃ³n: Dinero con Libro Mayor

Para evitar el doble gasto, el dinero digital requiere un libro mayor, un registro que registra la propiedad y garantiza la validez de las transacciones. A lo largo de la historia, el dinero ha funcionado de dos maneras:

1ï¸âƒ£ **Basado en Tokens (Efectivo y Oro, Dinero FÃ­sico):** La propiedad se determina por la posesiÃ³n. Si tienes un billete de $20.000, es tuyo; no se necesita una autoridad central para verificarlo. Esto funciona en el mundo fÃ­sico porque el efectivo no se puede copiar.

2ï¸âƒ£ **Basado en Libro Mayor (Cuentas Bancarias y Bitcoin, Dinero Digital):** La propiedad se registra en un libro mayor para prevenir el fraude. Cuando envÃ­as dinero a travÃ©s de un banco, este ajusta los saldos en su sistema para reflejar la transferencia.

![tokens vs libro mayor](./assets/images/tokens-libro-mayor.png)


Pero los bancos tienen una falla importante: la centralizaciÃ³n.

## Â¿Por quÃ© no usar simplemente el libro mayor de un banco?

Los bancos y los gobiernos ya mantienen libros mayores digitales, pero estos presentan problemas:

ğŸš« Debes confiar en que registren los saldos con precisiÃ³n.

ğŸš« Pueden congelar tu cuenta o bloquear transacciones a voluntad.

ğŸš« Pueden inflar la oferta monetaria, reduciendo tu poder adquisitivo.

Bitcoin soluciona esto mediante un libro mayor pÃºblico y descentralizado que ninguna entidad controla. En lugar de confiar en un banco, las transacciones de Bitcoin son verificadas por miles de nodos independientes en todo el mundo, lo que garantiza que nadie pueda manipular el libro mayor, bloquear transacciones ni reescribir el historial.


## Â¿CÃ³mo funciona el libro mayor de Bitcoin?

Bitcoin no almacena saldos como una cuenta bancaria. En cambio, registra la propiedad mediante las Salidas de Transacciones No Gastadas (UTXO) y las Salidas de Transacciones Gastadas (STXO).

Piensa en las UTXO y las STXO como si fueran dinero en efectivo:

âœ”ï¸ Cuando recibes bitcoin, obtienes una UTXO, como si recibieras un nuevo billete en tu billetera.

âœ”ï¸ Cuando gastas bitcoin, utilizas una o mÃ¡s UTXO y las conviertes en STXO, como si entregaras un billete para pagar algo.

âœ”ï¸ Â¿Te queda cambio? Se te devuelve como una nueva UTXO, como si recibieras cambio al pagar en efectivo.

## Saldo de tu billetera = El total de tus UTXO.

Dado que las UTXO gastadas (ahora STXO) no se pueden reutilizar, Bitcoin garantiza que cada transacciÃ³n sea definitiva y elimina el doble gasto. Una vez transferido el bitcoin, este se registra en el libro mayor pÃºblico y la propiedad se actualiza permanentemente.

Al usar un libro mayor distribuido, Bitcoin garantiza que cada transacciÃ³n sea verificable, irreversible y resistente al fraude, sin depender de un banco central ni de un gobierno.
Esto nos lleva a la pregunta: Â¿CÃ³mo se demuestra que realmente se posee el bitcoin? Y eso es para maÃ±ana.